{"is_source_file": true, "format": "Python", "description": "This file is a FastAPI backend implementation for an AI test automation platform. It defines API endpoints for health checks, CRUD operations on test cases stored in-memory, and execution simulation of tests. It includes data models for test cases, request payloads, and results, as well as middleware setup for CORS and thread-safe storage management.", "external_files": ["fastapi", "fastapi.middleware.cors", "pydantic", "typing", "threading", "datetime", "time", "random"], "external_methods": ["FastAPI()", "HTTPException()", "CORSMiddleware()", "BaseModel()", "Field()", "Lock()", "datetime.utcnow()", "time.sleep()", "random.random()"], "published": ["health", "list_tests", "create_test", "update_test", "delete_test", "run_tests"], "classes": [{"name": "TestCase", "description": "Model representing a test case with id, name, steps, and creation timestamp."}, {"name": "TestCaseCreate", "description": "Model for creating a new test case, requiring name and steps."}, {"name": "TestCaseUpdate", "description": "Model for updating an existing test case, with optional name and steps."}, {"name": "RunRequest", "description": "Model representing a request to run multiple test cases by their IDs."}, {"name": "RunResult", "description": "Model representing the outcome of a single test execution."}, {"name": "Store", "description": "Thread-safe in-memory store managing test cases with create, read, update, delete, and batch retrieval methods."}], "methods": [{"name": "health()", "description": "Healthcheck endpoint returning service status.", "scope": "", "scopeKind": ""}, {"name": "list_tests()", "description": "Endpoint returning list of all stored test cases.", "scope": "", "scopeKind": ""}, {"name": "create_test(payload: TestCaseCreate)", "description": "Endpoint to create a new test case.", "scope": "", "scopeKind": ""}, {"name": "update_test(test_id: int, payload: TestCaseUpdate)", "description": "Endpoint to update an existing test case by ID.", "scope": "", "scopeKind": ""}, {"name": "delete_test(test_id: int)", "description": "Endpoint to delete a test case by ID.", "scope": "", "scopeKind": ""}, {"name": "run_tests(req: RunRequest)", "description": "Endpoint to simulate running multiple test cases and returning results.", "scope": "", "scopeKind": ""}, {"name": "__init__(self)", "scope": "Store", "scopeKind": "class", "description": "unavailable"}, {"name": "int _next_id(self)", "scope": "Store", "scopeKind": "class", "description": "unavailable"}, {"name": "TestCase create(self, payload: TestCaseCreate)", "scope": "Store", "scopeKind": "class", "description": "unavailable"}, {"name": "None delete(self, tid: int)", "scope": "Store", "scopeKind": "class", "description": "unavailable"}, {"name": "List[TestCase] get_many(self, ids: List[int])", "scope": "Store", "scopeKind": "class", "description": "unavailable"}, {"name": "List[TestCase] list(self)", "scope": "Store", "scopeKind": "class", "description": "unavailable"}, {"name": "TestCase update(self, tid: int, payload: TestCaseUpdate)", "scope": "Store", "scopeKind": "class", "description": "unavailable"}], "calls": ["store.list()", "store.create()", "store.update()", "store.delete()", "store.get_many()", "datetime.utcnow()", "time.sleep()", "random.random()"], "search-terms": ["FastAPI backend", "test case CRUD", "in-memory store", "test execution simulation", "health check endpoint", "CORS middleware", "test case models", "run test endpoint", "thread safety", "OpenAPI tags"], "state": 2, "file_id": 15, "knowledge_revision": 35, "git_revision": "f6c2850011191c3edf706f6eb8860cd5c0d0f5b1", "ctags": [{"_type": "tag", "name": "RunRequest", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^class RunRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RunResult", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^class RunResult(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Store", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^class Store:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestCase", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^class TestCase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestCaseCreate", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^class TestCaseCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestCaseUpdate", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^class TestCaseUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Store", "scopeKind": "class"}, {"_type": "tag", "name": "_next_id", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    def _next_id(self) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "member", "signature": "(self)", "scope": "Store", "scopeKind": "class"}, {"_type": "tag", "name": "allowed_origin_regex", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^allowed_origin_regex = r\"https?:\\\\\\/\\\\\\/([a-zA-Z0-9\\\\-]+\\\\.)*cloud\\\\.kavia\\\\.ai(:\\\\d+)?\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "allowed_origins", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^allowed_origins = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    def create(self, payload: TestCaseCreate) -> TestCase:$/", "language": "Python", "typeref": "typename:TestCase", "kind": "member", "signature": "(self, payload: TestCaseCreate)", "scope": "Store", "scopeKind": "class"}, {"_type": "tag", "name": "create_test", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^def create_test(payload: TestCaseCreate):$/", "language": "Python", "kind": "function", "signature": "(payload: TestCaseCreate)"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    created_at: datetime = Field(default_factory=datetime.utcnow, description=\"Creation timestam/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "TestCase", "scopeKind": "class"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    def delete(self, tid: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, tid: int)", "scope": "Store", "scopeKind": "class"}, {"_type": "tag", "name": "delete_test", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^def delete_test(test_id: int):$/", "language": "Python", "kind": "function", "signature": "(test_id: int)"}, {"_type": "tag", "name": "duration_ms", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    duration_ms: int = Field(..., description=\"Execution time in ms\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "RunResult", "scopeKind": "class"}, {"_type": "tag", "name": "get_many", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    def get_many(self, ids: List[int]) -> List[TestCase]:$/", "language": "Python", "typeref": "typename:List[TestCase]", "kind": "member", "signature": "(self, ids: List[int])", "scope": "Store", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^def health():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    id: int = Field(..., description=\"Test case id\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "RunResult", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    id: int = Field(..., description=\"Unique identifier of the test case\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "TestCase", "scopeKind": "class"}, {"_type": "tag", "name": "ids", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    ids: List[int] = Field(..., description=\"IDs of test cases to execute\")$/", "language": "Python", "typeref": "typename:List[int]", "kind": "variable", "scope": "RunRequest", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    def list(self) -> List[TestCase]:$/", "language": "Python", "typeref": "typename:List[TestCase]", "kind": "member", "signature": "(self)", "scope": "Store", "scopeKind": "class"}, {"_type": "tag", "name": "list_tests", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^def list_tests():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    name: Optional[str] = Field(None, description=\"Name of the test case\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TestCaseUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    name: str = Field(..., description=\"Name of the test case\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TestCase", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    name: str = Field(..., description=\"Name of the test case\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TestCaseCreate", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    name: str = Field(..., description=\"Test case name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RunResult", "scopeKind": "class"}, {"_type": "tag", "name": "run_tests", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^def run_tests(req: RunRequest):$/", "language": "Python", "kind": "function", "signature": "(req: RunRequest)"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    status: str = Field(..., description=\"pass or fail\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RunResult", "scopeKind": "class"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    steps: List[str] = Field(default_factory=list, description=\"List of steps\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "TestCase", "scopeKind": "class"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    steps: List[str] = Field(default_factory=list, description=\"List of steps\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "TestCaseCreate", "scopeKind": "class"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    steps: Optional[List[str]] = Field(None, description=\"List of steps\")$/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "TestCaseUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^store = Store()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^    def update(self, tid: int, payload: TestCaseUpdate) -> TestCase:$/", "language": "Python", "typeref": "typename:TestCase", "kind": "member", "signature": "(self, tid: int, payload: TestCaseUpdate)", "scope": "Store", "scopeKind": "class"}, {"_type": "tag", "name": "update_test", "path": "/home/kavia/workspace/code-generation/ai-test-automation-platform-6921-6930/backend/main.py", "pattern": "/^def update_test(test_id: int, payload: TestCaseUpdate):$/", "language": "Python", "kind": "function", "signature": "(test_id: int, payload: TestCaseUpdate)"}], "hash": "174af29d2a7ca2f0c0592d42e12b871b", "format-version": 4, "code-base-name": "frontend", "filename": "backend/main.py", "fields": [{"name": "allowed_origin_regex = r\"https?:\\\\\\/\\\\\\/([a-zA-Z0-9\\\\-]+\\\\.)*cloud\\\\.kavia\\\\.ai(:\\\\d+)?\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "allowed_origins = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "datetime created_at", "scope": "TestCase", "scopeKind": "class", "description": "unavailable"}, {"name": "int duration_ms", "scope": "RunResult", "scopeKind": "class", "description": "unavailable"}, {"name": "int id", "scope": "RunResult", "scopeKind": "class", "description": "unavailable"}, {"name": "List[int] ids", "scope": "RunRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] name", "scope": "TestCaseUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str name", "scope": "TestCase", "scopeKind": "class", "description": "unavailable"}, {"name": "str status", "scope": "RunResult", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] steps", "scope": "TestCase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] steps", "scope": "TestCaseUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "store = Store()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"35": "f6c2850011191c3edf706f6eb8860cd5c0d0f5b1"}]}